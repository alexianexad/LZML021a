<html>


    <head>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css">
        <meta charset="UTF-8" />
        <title>Programmation pour les humanités numériques</title>

        <style>
        .mycode {background-color: black; color: white;}
        .myoutput {background-color: #CCCCCC; color: red;}
        </style>
        
        <script type="text/javascript" language="javascript">
            // exemple
            function exempleForEach() {
                let tableau = ["Ceci est mon premier paragraphe", "Ceci est mon deuxième paragraphe", "Paragraphe 3", "Et un dernier !"];
                // on créé une liste avec le texte
                let liste = "<ul>"
                tableau.forEach(element => liste += "<li>" + element + "</li>"); // element = chaque élément de tableau (les paragraphes)
                liste += "</ul>"; // on pense à fermer
                document.getElementById("forEachHolder").innerHTML = liste;

                document.getElementById("forEachCodeHolder").innerHTML = `let tableau = ${'["' + tableau.join('", "') + '"]'};

// on créé une liste avec le texte
let liste = "&lt;ul&gt;"
tableau.forEach(element => liste += "&lt;li&gt;" + element + "&lt;/li&gt;"); // element = chaque élément de tableau (les paragraphes)
liste += "&lt;/ul&gt;"; // on pense à fermer

document.getElementById("forEachHolder").innerHTML = liste;`
            }

            // exemple
            function exempleMap() {
                let tableau = [1, 2, 3];
                resultat = tableau.map(element => element + 1);
    
                document.getElementById("mapCodeHolder").innerHTML = `let tableau = ${'[' + tableau.join(', ') + ']'}
resultat = tableau.map(element => element + 1);`;
    
                document.getElementById("mapHolder").innerHTML = `resultat vaut ${'[' + resultat.join(', ') + ']'}`;
            }

            // exemple
            function exempleFilter() {
                let tableau = [1, 2, 3, 4, 5, 6, 7, 8, 9];
                resultat = tableau.filter(element => 4 <= element && element <= 6);
    
                document.getElementById("filterCodeHolder").innerHTML = `let tableau = ${'[' + tableau.join(', ') + ']'}
resultat = tableau.filter(element => 4 <= element && element <= 6);`;

                document.getElementById("filterHolder").innerHTML = `resultat vaut ${'[' + resultat.join(', ') + ']'}`;
            }
        </script>
    </head>


    <body style="background-color:CCCCCC;">
        <section class="section column is-half is-offset-one-quarter" style="background-color:F8F8F8;">
            <div class="container" style="text-align:center;">
                <div class="block" >
                    <span class="title">Itérer sur des tableaux / listes</span>
                </div>
                <div class="hero-body" style="text-align:justify;">
                    <p>Cliquez sur les boutons pour faire tourner les exemples.</p>
                    <p>Le code javascript est dans le code source de la page : ouvrez ce fichier avec un éditeur de texte pour le voir (ou en console de développeur).</p>
                    <br/>
                    <h2 class="has-background-info has-text-white">Appliquer à chaque élément : forEach()</h2>
                    <br/>
                    <p>L'intérêt de forEach est de modifier des choses en dehors du tableau (effet de bord).</p>
                    <p>Ici, on va créer un paragraphe par élément (n'hésitez pas à modifier le tableau dans la fonction) :</p>

                    <button onclick="exempleForEach()">lancer exempleForEach()</button>
                    <br/>
                    <br/>
                    <pre id="forEachCodeHolder" class="mycode"></pre>
                    <br/>
                    <p>Résultat :</p>
                    <div id="forEachHolder"></div>
                    <br/>                    

                    <h2 class="has-background-info has-text-white">Modifier un tableau : map()</h2>
                    <br/>

                    <p>Crée un nouveau tableau où chaque élément est modifié.</p>
                    <p>Le tableau de base ne change pas.</p>
                    <p>Contrairement à forEach, doit modifier uniquement les éléments du tableau.</p>
                    <button onclick="exempleMap()">Ajouter 1 à [1, 2, 3]</button>
                    <br/>
                    <br/>
                    <pre id="mapCodeHolder" class="mycode"></pre>
                    <br/>
                    <p>Résultat :</p>
                    <pre id="mapHolder" class="myoutput"></pre>
                    
                    <br/>
                    <h2 class="has-background-info has-text-white">Retirer au début : filter()</h2>
                    <br/>

                    <p>Applique un filtre POSITIF aux éléments d'un tableau.</p>
                    <p>Créé un tableau où seuls les éléments qui passent le test sont gardés.</p>
                    <p>Le tableau de base ne change pas.</p>
                    <button onclick="exempleFilter()">Filter les éléments de tableau [1,2,3,4,5,6,7,8,9] compris entre 4 et 6 inclus</button>
                    <br/>
                    <br/>
                    <pre id="filterCodeHolder" class="mycode"></pre>
                    <br/>
                    <p>Résultat :</p>
                    <pre id="filterHolder" class="myoutput"></pre>
                    <br/>
                </div>
            </div>
        </section>
    </body>


</html>
